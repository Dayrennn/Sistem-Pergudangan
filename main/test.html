<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daftar Konten Landing Page Produk Air</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container mt-5">
        <h2 class="mb-4">Daftar Konten Landing Page Produk Air</h2>

        <div class="d-flex justify-content-between mb-3">
            <input type="text" class="form-control w-25" id="searchInput" placeholder="Cari konten...">
            <select class="form-select w-auto me-2" id="statusFilter">
                <option value="">Semua Status</option>
                <option value="Aktif">Aktif</option>
                <option value="Draft">Draft</option>
                <option value="Nonaktif">Nonaktif</option>
            </select>
            <a href="create_edit.html" class="btn btn-primary">Tambah Konten Baru</a>
        </div>

        <div class="table-responsive">
            <table class="table table-hover table-bordered">
                <thead class="table-dark">
                    <tr>
                        <th scope="col">ID</th>
                        <th scope="col">Judul/Bagian</th>
                        <th scope="col">Deskripsi Singkat</th>
                        <th scope="col">Status</th>
                        <th scope="col">Terakhir Diperbarui</th>
                        <th scope="col">Aksi</th>
                    </tr>
                </thead>
                <tbody id="contentTableBody">
                    <tr>
                        <td>1</td>
                        <td>Hero Section</td>
                        <td>Gambar utama dan slogan produk air.</td>
                        <td><span class="badge bg-success">Aktif</span></td>
                        <td>2024-05-20 10:30</td>
                        <td>
                            <a href="create_edit.html?id=1" class="btn btn-sm btn-info text-white me-1">Edit</a>
                            <button class="btn btn-sm btn-danger delete-btn" data-id="1">Hapus</button>
                        </td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>Keunggulan Produk</td>
                        <td>Fitur-fitur utama air murni kami.</td>
                        <td><span class="badge bg-warning text-dark">Draft</span></td>
                        <td>2024-05-18 15:00</td>
                        <td>
                            <a href="create_edit.html?id=2" class="btn btn-sm btn-info text-white me-1">Edit</a>
                            <button class="btn btn-sm btn-danger delete-btn" data-id="2">Hapus</button>
                        </td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td>Testimoni Pelanggan</td>
                        <td>Apa kata pelanggan kami tentang produk.</td>
                        <td><span class="badge bg-secondary">Nonaktif</span></td>
                        <td>2024-05-15 09:00</td>
                        <td>
                            <a href="create_edit.html?id=3" class="btn btn-sm btn-info text-white me-1">Edit</a>
                            <button class="btn btn-sm btn-danger delete-id="3">Hapus</button>
                        </td>
                    </tr>
                    </tbody>
            </table>
        </div>
    </div>

    <div class="modal fade" id="deleteConfirmationModal" tabindex="-1" aria-labelledby="deleteConfirmationModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="deleteConfirmationModalLabel">Konfirmasi Penghapusan Konten</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    Anda yakin ingin menghapus konten ini? Tindakan ini tidak dapat dibatalkan.
                    <br><br>
                    <strong>ID Konten: <span id="contentIdToDelete"></span></strong>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Batal</button>
                    <button type="button" class="btn btn-danger" id="confirmDeleteBtn">Ya, Hapus Konten</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const deleteModal = new bootstrap.Modal(document.getElementById('deleteConfirmationModal'));
            let contentIdToDelete = null;

            document.querySelectorAll('.delete-btn').forEach(button => {
                button.addEventListener('click', function() {
                    contentIdToDelete = this.dataset.id;
                    document.getElementById('contentIdToDelete').textContent = contentIdToDelete;
                    deleteModal.show();
                });
            });

            document.getElementById('confirmDeleteBtn').addEventListener('click', function() {
                alert('Fungsi Hapus Konten dengan ID: ' + contentIdToDelete + ' akan diimplementasikan di backend.');
                // Di sini Anda akan memanggil API backend untuk menghapus konten
                deleteModal.hide();
                // Opsional: Muat ulang atau hapus baris dari tabel setelah berhasil
            });

            // Fungsi filter dan pencarian sederhana (hanya di frontend)
            function filterTable() {
                const searchInput = document.getElementById('searchInput').value.toLowerCase();
                const statusFilter = document.getElementById('statusFilter').value;
                const rows = document.querySelectorAll('#contentTableBody tr');

                rows.forEach(row => {
                    const title = row.children[1].textContent.toLowerCase();
                    const description = row.children[2].textContent.toLowerCase();
                    const status = row.children[3].textContent.trim();

                    const matchesSearch = title.includes(searchInput) || description.includes(searchInput);
                    const matchesStatus = (statusFilter === '' || status === statusFilter);

                    if (matchesSearch && matchesStatus) {
                        row.style.display = '';
                    } else {
                        row.style.display = 'none';
                    }
                });
            }

            document.getElementById('searchInput').addEventListener('keyup', filterTable);
            document.getElementById('statusFilter').addEventListener('change', filterTable);
        });
    </script>
</body>
</html>